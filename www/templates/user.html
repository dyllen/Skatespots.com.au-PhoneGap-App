<ion-view title="My Spot">
  <ion-nav-buttons side="left">
    <button menu-toggle="left" class="button button-icon icon ion-navicon"></button>
  </ion-nav-buttons>
  <ion-nav-buttons side="right">
    <button ng-show="favButton" class="button button-icon icon ion-gear-a" ng-click="modal.show()"></button>
  </ion-nav-buttons>
  <ion-content class="has-header user_page">
    <button ng-show="loading" class="button button-full button-light">
    <i class="icon ion-loading-c"></i>
  	</button>
  	<div ng-hide="loading">
    <div class="list map-preview" ng-show="mapPreview">
      <a class="item item-avatar" href="#/app/playlists/{{mapPreview.id}}">
        <div class="preview-img" style="background:url({{mapPreview.thumbnail}}); background-size: cover;"></div>
        <h2 ng-bind-html="mapPreview.title"></h2>
        <p>{{mapPreview.address}}</p>
        <i class="ion-chevron-right"></i>
      </a>
  </div>
    <div data-tap-disabled="true">
  	   <div id="usermap" style="width:100%; height:250px;"></div>
     </div>
  	<div class="padding user_inner">
  		<h3>{{name}}</h3>
    	<img ng-show="id" height="100" ng-src="{{userImage}}" class="fb-hero">
    	<p ng-show="state"><i class="ion-location"></i> {{state}}</p>
    	<a href="{{website}}" ng-show="website" onclick="window.open(this.href,'_system'); return false;"><i class="ion-earth"></i> {{website}}</a>
    	<p class="bio">{{bio}}</p>
    </div>
    <div ng-show="noListings" class="no-listings">
    <p>Add a spot or a park to get started</p>
    <div class="button-bar bar-positive">
      <a class="button" href="#/app/addform/spot">Add a spot</a>
      <a class="button" href="#/app/addform/park">Add a park</a>
    </div>
    </div>
    <div class="button-bar bar-light user-buttons">
        <div class="button-bar listings">
          <a class="button" ng-show="Spots" ng-click="toggleSpots()">Spots</a>
          <a class="button" ng-show="Parks" ng-click="toggleParks()">Parks</a>
          <a class="button" ng-show="favButton" ng-click="toggleFav()">Favourites</a>
        </div>
      </div>
      <div class="list user-spots" ng-show="showSpots">
	    <a ng-repeat="Spot in Spots" class="item item-thumbnail-left" href="#/app/playlists/{{Spot.id}}">
        <div class="preview-img" style="background:url({{Spot.thumbnail}}) center center; background-size: cover;"></div>
        <h2 ng-bind-html="Spot.title"></h2>
        <p>{{Spot.address}} {{Spot.suburb}}</p>
        <span class="btn_blue">Check it out</span>
      </a>
  	</div>
  	 <div class="list user-spots" ng-show="showParks">
	    <a ng-repeat="Spot in Parks" class="item item-thumbnail-left" href="#/app/playlists/{{Spot.id}}">
        <div class="preview-img" style="background:url({{Spot.thumbnail}}) center center; background-size: cover;"></div>
        <h2 ng-bind-html="Spot.title"></h2>
        <p>{{Spot.address}} {{Spot.suburb}}</p>
        <span class="btn_blue">Check it out</span>
      </a>
  	</div>
    <div class="list user-spots" ng-show="showFav">
     <button ng-show="favLoading" class="button button-full button-light">
      <i class="icon ion-loading-c"></i>
    </button>
      <a ng-repeat="Spot in favourites" class="item item-thumbnail-left" href="#/app/playlists/{{Spot.id}}">
        <div class="preview-img" style="background:url({{Spot.thumbnail}}) center center; background-size: cover;"></div>
        <h2 ng-bind-html="Spot.title"></h2>
        <p>{{Spot.address}} {{Spot.suburb}}</p>
        <span class="btn_blue">Check it out</span>
      </a>
      <div class="no-favourites" ng-show="nofav">you haven't added any favourites</div>
    </div>
  	</div>

  <script id="user-config.html" type="text/ng-template">
    <div class="modal user-modal">
      <ion-header-bar>
      <button class="button button-clear button-primary" ng-click="modal.hide()">Cancel</button>
        <h1 class="title">EDIT PROFILE</h1>
        <button class="button button-clear button-positive" ng-click="updateUser()">Done</button>
      </ion-header-bar>
      <ion-content>
       <div class="list card">
        <div class="item item-icon-left">
          <i class="icon ion-earth"></i>
          <input type="text" placeholder="Website" ng-model="formValues.website">
        </div>
        <div class="item item-icon-left">
          <i class="icon ion-ios7-information"></i>
          <textarea placeholder="Bio" ng-model="formValues.bio"></textarea>
        </div>
      <label class="item item-input item-select item-icon-left">
          <i class="icon ion-location"></i>
          <select ng-model="formValues.state">
              <option>Victoria</option>
              <option>New South Wales</option>
              <option>Australian Capital Territory</option>
              <option>Queensland</option>
              <option>Tasmania</option>
              <option>Western Australia</option>
              <option>South Australia</option>
              <option>Northern Territory</option>
            </select>
      </label>
      </div>
      </ion-content>
    </div>
  </script>

  </ion-content>
</ion-view>
